<!DOCTYPE html>
<html class="eeukdfvr idc0_350"><!--
 Page saved with SingleFile 
 url: https://ftp.6kare.com/files/kolayimza/api/ 
 saved date: Thu Mar 06 2025 21:41:36 GMT+0300 (GMT+03:00)
-->
<meta charset=utf-8>
<meta name=viewport content="width=device-width, initial-scale=1.0">
<title>kolayimza</title>
<style>
    body {
        counter-reset: a b
    }

    /*! normalize-scss | MIT/GPLv2 License | bit.ly/normalize-scss */
    html {
        -ms-text-size-adjust: 100%;
        -webkit-text-size-adjust: 100%
    }

    body {
        margin: 0
    }

    h1 {
        font-size: 2em
    }

    a {
        background-color: transparent;
        -webkit-text-decoration-skip: objects
    }

    strong {
        font-weight: bolder
    }

    svg:not(:root) {
        overflow: hidden
    }

    ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit
    }

    body,
    html {
        color: rgba(0, 0, 0, .75);
        font-size: 16px;
        font-family: Lato, Helvetica Neue, Helvetica, sans-serif;
        font-variant-ligatures: common-ligatures;
        line-height: 1.67;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale
    }

    blockquote,
    dl,
    p,
    pre {
        margin: 1.2em 0
    }

    h1,
    h2,
    h3 {
        margin: 1.8em 0;
        line-height: 1.33
    }

    h1:after,
    h2:after {
        content: "";
        display: block;
        position: relative;
        top: .33em;
        border-bottom: 1px solid hsla(0, 0%, 50%, .33)
    }

    dt {
        font-weight: 700
    }

    a {
        color: #0c93e4;
        text-decoration: underline
    }

    a:focus,
    a:hover {
        text-decoration: none
    }

    code,
    pre {
        font-family: Roboto Mono, Lucida Sans Typewriter, Lucida Console, monaco, Courrier, monospace;
        font-size: .85em
    }

    pre * {
        font-size: inherit
    }

    blockquote {
        color: rgba(0, 0, 0, .5);
        padding-left: 1.5em;
        border-left: 5px solid rgba(0, 0, 0, .1)
    }

    code {
        border-radius: 3px
    }

    pre>code {
        background-color: rgba(0, 0, 0, .05);
        display: block;
        padding: .5em;
        -webkit-text-size-adjust: none;
        overflow-x: auto;
        white-space: pre
    }

    .stackedit__html {
        margin-bottom: 180px;
        margin-left: auto;
        margin-right: auto;
        padding-left: 30px;
        padding-right: 30px;
        max-width: 750px
    }

    @media (min-width:1060px) {}

    @media (min-width:1060px) {}
</style>
<meta name=referrer content=no-referrer>
<link rel=canonical href=https://ftp.6kare.com/files/kolayimza/api />
<meta http-equiv=content-security-policy
    content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;">
</head>

<body class=stackedit>
    <div class=stackedit__html>
        <h1 id=kolay-imza-geliştirici-dokümantasyonu>Kolay Imza Geliştirici Dokümantasyonu</h1>
        <h2 id=kolay-i̇mza-nasıl-çalışır->Kolay İmza Nasıl Çalışır ?</h2>
        <p>Kolay imza <strong>“sign:…”</strong> adresi ile başlayan bir protokol kullanır. Bu adresi ister web
            uygulamanız içerisinde isterseniz de desktop uygulama içerisinden çağırarak kolay imzayı başlatabilirsiniz.
            Sign adresi içerisine imza atılacak belge ve bilgilere ait talebin bilgileri yer alır. Bununla ilgili
            bilgiler aşağıda detaylı olarak anlatılacaktır ama önce kolay imzayı nasıl başlatacağımıza bakalım.</p>
        <p>Web uygulaması içerisinde kolay imzanın başlatılması. HTML içerisinde aşağıdakine benzer bir şekilde bir link
            yerleştirmeniz yeterlidir.</p>
        <pre><code>&lt;a href="sign:XXXX"&gt;İmzala&lt;/a&gt; 
</code></pre>
        <h2 id=nasıl-çalışır->Nasıl Çalışır ?</h2>
        <div class=mermaid><svg xmlns=http://www.w3.org/2000/svg id=mermaid-svg-Z6o3nFsh79NTyzD0 height=100% width=100%
                style=max-width:550px viewBox="-50 -10 550 511">
                <g></g>
                <g>
                    <line id=actor20 x1=75 y1=5 x2=75 y2=500 class=actor-line stroke-width=0.5px stroke=#999></line>
                    <rect x=0 y=0 fill=#eaeaea stroke=#666 width=150 height=65 rx=3 ry=3 class=actor></rect><text x=75
                        y=32.5 dominant-baseline=central alignment-baseline=central class=actor
                        style=text-anchor:middle>
                        <tspan x=75 dy=0>Uygulama</tspan>
                    </text>
                </g>
                <g>
                    <line id=actor21 x1=275 y1=5 x2=275 y2=500 class=actor-line stroke-width=0.5px stroke=#999></line>
                    <rect x=200 y=0 fill=#eaeaea stroke=#666 width=150 height=65 rx=3 ry=3 class=actor></rect><text
                        x=275 y=32.5 dominant-baseline=central alignment-baseline=central class=actor
                        style=text-anchor:middle>
                        <tspan x=275 dy=0>Kolay İmza</tspan>
                    </text>
                </g>
                <defs>
                    <marker id=arrowhead refX=5 refY=2 markerWidth=6 markerHeight=4 orient=auto>
                        <path d="M 0,0 V 4 L6,2 Z"></path>
                    </marker>
                </defs>
                <defs>
                    <marker id=crosshead markerWidth=15 markerHeight=8 orient=auto refX=16 refY=4>
                        <path fill=black stroke=#000000 stroke-width=1px d="M 9,2 V 6 L16,4 Z"
                            style=stroke-dasharray:0,0></path>
                        <path fill=none stroke=#000000 stroke-width=1px d="M 0,1 L 6,7 M 6,1 L 0,7"
                            style=stroke-dasharray:0,0></path>
                    </marker>
                </defs>
                <g>
                    <rect x=0 y=75 fill=#EDF2AE stroke=#666 width=150 height=60 rx=0 ry=0 class=note></rect><text x=16
                        y=105 fill=black class=noteText>
                        <tspan x=16>İmza talebi</tspan>
                        <tspan dy=23 x=16>oluşturulur.</tspan>
                    </text>
                </g>
                <g><text x=175 y=163 class=messageText style=text-anchor:middle>İmza talebi sign adresi ile kolay
                        imza'ya gönderilir.</text>
                    <line x1=75 y1=170 x2=275 y2=170 class=messageLine0 stroke-width=2 stroke=black
                        marker-end=url(#arrowhead) style=fill:none></line>
                </g>
                <g>
                    <rect x=300 y=180 fill=#EDF2AE stroke=#666 width=150 height=60 rx=0 ry=0 class=note></rect><text
                        x=316 y=210 fill=black class=noteText>
                        <tspan x=316>İmza isteği</tspan>
                        <tspan dy=23 x=316>incelenir.</tspan>
                    </text>
                </g>
                <g><text x=175 y=268 class=messageText style=text-anchor:middle>Gerekiyorsa imzalanacak belgeler ağ
                        üzerinden indirilir.</text>
                    <line x1=275 y1=275 x2=75 y2=275 class=messageLine1 stroke-width=2 stroke=black
                        marker-end=url(#arrowhead) style=stroke-dasharray:3,3;fill:none></line>
                </g>
                <g>
                    <rect x=200 y=285 fill=#EDF2AE stroke=#666 width=150 height=60 rx=0 ry=0 class=note></rect><text
                        x=216 y=315 fill=black class=noteText>
                        <tspan x=216>İmzalama işlemi</tspan>
                        <tspan dy=23 x=216>tamamlanır.</tspan>
                    </text>
                </g>
                <g><text x=175 y=373 class=messageText style=text-anchor:middle>İsteniyorsa imza içeriği
                        gönderilir.</text>
                    <line x1=275 y1=380 x2=75 y2=380 class=messageLine1 stroke-width=2 stroke=black
                        marker-end=url(#arrowhead) style=stroke-dasharray:3,3;fill:none></line>
                </g>
                <g><text x=175 y=408 class=messageText style=text-anchor:middle>İsteniyor ise toplu imza cevabı
                        gönderilir.</text>
                    <line x1=275 y1=415 x2=75 y2=415 class=messageLine1 stroke-width=2 stroke=black
                        marker-end=url(#arrowhead) style=stroke-dasharray:3,3;fill:none></line>
                </g>
                <g>
                    <rect x=0 y=435 fill=#eaeaea stroke=#666 width=150 height=65 rx=3 ry=3 class=actor></rect><text x=75
                        y=467.5 dominant-baseline=central alignment-baseline=central class=actor
                        style=text-anchor:middle>
                        <tspan x=75 dy=0>Uygulama</tspan>
                    </text>
                </g>
                <g>
                    <rect x=200 y=435 fill=#eaeaea stroke=#666 width=150 height=65 rx=3 ry=3 class=actor></rect><text
                        x=275 y=467.5 dominant-baseline=central alignment-baseline=central class=actor
                        style=text-anchor:middle>
                        <tspan x=275 dy=0>Kolay İmza</tspan>
                    </text>
                </g>
            </svg></div>
        <h2 id=canlı-kullanım>Canlı Kullanım</h2>
        <p>Örnek canlı kullanımını <a href=https://ftp.6kare.com/files/kolayimza/api/file.php>buraya tıklayarak</a>
            deneyebilirsiniz. Bu örneğe ait kaynak kod bu sayfanın devamında verilmiştir.</p>
        <h2 id=i̇mza-talebi-nasıl-oluşturulur->İmza Talebi Nasıl Oluşturulur ?</h2>
        <p>Web tabanlı uygulamalar için imza talebini uygulamanız içerisinde kullanıcının tıklayarak başlatacağı bir
            adres oluşturarak başlatabilirsiniz. Masaüstü uygulamalar uygulamalar için lütfen <a
                href=#masa%C3%BCst%C3%BC-yaz%C4%B1l%C4%B1m-ve-yerel-dosya-eri%C5%9Fimi>Masaüstü Yazılım ve Yerel Dosya
                Erişimi</a> başlığına bakınız.</p>
        <p>İmza talebinini imzalanacak bilgileri içeren adresi belirterek veya imzalanacak bilgileri kodlayarak Kolay
            İmza’ya gönderebilirsiniz.</p>
        <h3 id=adres-ile-başlatma>Adres ile Başlatma</h3>
        <p>JSON cevabı gönderecek olan adresi <strong>?xs=&lt;adres&gt;</strong> şeklinde belirtebilirsiniz.</p>
        <pre><code>&lt;a href="sign://?xs=http://localhost/app/file.aspx?id=123&amp;op=request"&gt;İmzala&lt;/a&gt;
</code></pre>
        <p>Bu örnekte file.aspx dosyasının aşağıdakine benzer bir <strong>Request</strong> tipinde bir JSON geri
            göndermesi beklenir.</p>
        <pre><code>{
    "resources" : [
        {
            "source" : "http://localhost/app/file.aspx?id=123"
        }
    ],
    "responseUrl" : "http://localhost/app/file.aspx?id=123&amp;op=response"
}
</code></pre>
        <blockquote>
            <p><strong>resources</strong> içerisinde imzalanmasını istediğiniz kaynaklara ait bilgiler yer alır. Birden
                fazla kaynak belirterek aynı anda birden fazla belgenin imzalanmasını sağlayabilirsiniz. Belge içeriğini
                örnekte olduğu gibi bir adres vererek veya base64 kodlu şekilde JSON içerisinde gönderebilirsiniz.</p>
        </blockquote>
        <h3 id=direk-başlatma>Direk Başlatma</h3>
        <p>Alternatif olarak Request JSON objesini aşağıdaki örnekteki gibi base64 kodlayarak adres içerisinde de
            gönderebilirsiniz.</p>
        <pre><code>&lt;a href="sign://?xsjson=eyJyZXN.....zZSJ9"&gt;İmzala&lt;/a&gt;
</code></pre>
        <p>Bu yöntemi tercih ederseniz aşağıdaki gibi bir java script kodu ile adresi üretebilirsiniz.</p>
        <pre><code>$(document).ready(function() {
    var link = btoa(JSON.stringify({
        "resources" : [
            {
                "source" : "http://localhost/app/file.aspx?id=123"
            }
        ],
        "responseUrl" : "http://localhost/app/file.aspx?id=123&amp;op=response"
    }));    
    // $('a.imzala').attr('src', link);
}
</code></pre>
        <blockquote>
            <p>Bir çok internet gezgininde <strong>btoa</strong> fonksiyonu türkçe karakterler ile ilgili problem
                çıkardığı için gerekiyor ise alternatif bir <a
                    href=http://www.webtoolkit.info/javascript-base64.html>base64 çevirici</a> kullanmanızı öneririz.
            </p>
        </blockquote>
        <h2 id=i̇mza-geri-nasıl-alınır>İmza Geri Nasıl Alınır</h2>
        <p>İmza talebi oluşturulurken aşağıdaki örnekte olduğu gibi resource objesi üzerinde <strong>targetUrl</strong>
            belirttiyseniz imzalı bilgi yada belge standart dosya upload yöntemine benzer şekilde POST yöntemi ile
            belirttiğiniz adrese gönderilecektir. Bu adresin imzalı bilgiyi veri tabanına kaydetmesi beklenir.</p>
        <pre><code>{
    "resources" : [
        {
            "source" : "http://localhost/app/file.aspx?id=123",
            "targetUrl" : "http://localhost/app/file.aspx?id=123",
            "format" : "CadesBes"
        }
    ]
}
</code></pre>
        <p>Bunun dışında imza talebi içerisinde <strong>responseUrl</strong> belirtilmiş ise tüm imza detayları bu
            adrese JSON formatında aşağıdaki şekilde gönderilecektir.</p>
        <pre><code>{
    "certificate": "MIIG+zCCBe....BYsjR1L384",
    "certificateIssuer": "Nitelikli Elektronik Sertifika Hizmetleri",
    "certificateName": "SELAHATTİN BOSTANCI",
    "certificateSerialNumber": "4.......2",
    "createdAt": "2016-02-10T14:19:19.5071679+03:00",
    "resources": [
        {
            "attachSource": true,
            "digest": "Sha256",
            "signature": "MIAGCSqGSI....AAAAAA",
            "source": "http://localhost/app/file.aspx?id=123",
        }
    ]
}
</code></pre>
        <blockquote>
            <p>Request objesi üzerindeki <strong>responseUrl</strong> ve Resource üzerindeki <strong>targetUrl</strong>
                adreslerinin her ikisi de zorunlu değildir. İkisini de aynı anda kullanabilir veya herhangi birisini
                belirleyebilirsiniz. İkisi de belirtilmediğinde imza oluşturulur ancak gönderim yapılacak bir yer
                olmayacağından uygulama otomatik kapanacaktır.</p>
        </blockquote>
        <h2 id=masaüstü-yazılım-ve-yerel-dosya-erişimi>Masaüstü Yazılım ve Yerel Dosya Erişimi</h2>
        <p>1.7 Versiyonundan itibaren internet tarayıcılar dışındaki masaüstü yazılımlarda kolay imzayı başlatmak üzere
            aşağıdaki şekilde imza talebini argüman olarak belirterek başlatabilirsiniz.</p>
        <pre><code>C:\Program Files (x86)\KolayImza\AltiKare.KolayImza.exe c:\imza.json
</code></pre>
        <blockquote>
            <p>Parametre olarak “Imza.json” dosyası imza talebi olan Request modeli ile aynı tiptedir.</p>
        </blockquote>
        <p>Imza talebi içerisindeki url içerisinde yerel dosya yolunu belirtilebilirsiniz. Ancak yerel dosya erişimi söz
            konusu olduğunda kullanıcı bu işlem ile ilgili bir uyarı mesajı alacaktır. Kullanıcının işleme izin vermesi
            ile ancak imzalama işlemi tamamlanır.</p>
        <pre><code>{
    "resources" : [
        {
            "source" : "c:\\dizin\\dosya.pdf",
            "targetUrl" : "c:\\dizin\\imzalidosya.pdf",
            "format" : "PadesBes"
        }
    ]
}
</code></pre>
        <h2 id=json-modelleri>JSON Modelleri</h2>
        <h3 id=resource>Resource</h3>
        <p>Bilgi veya belgeye ait kaynak bilgilerini belirtir.</p>
        <dl>
            <dt><strong>id: string</strong></dt>
            <dd>
                <p>Kaynağa ait tekil bilgi. Zorunlu değildir, yanlızca kaynakları bir id numarası ile ayırt etmek için
                    kullanılır.</p>
            </dd>
            <dt><strong>source: string</strong></dt>
            <dd>
                <p>Kaynağın bulunduğu adres veya base64 kodlu bilgi yada metin. Bu alan içeriğine göre sourceType
                    alanını belirlemeniz gereklidir.</p>
            </dd>
            <dt><strong>sourceType: string ∈ { Binary, PlainText, Url }</strong></dt>
            <dd>
                <p>source alanının içeriğinin tipi</p>
            </dd>
            <dt><strong>sourceName: string</strong></dt>
            <dd>
                <p>Kaynağın ekranda gösterilecek dosya adı. Zorunlu değildir.</p>
            </dd>
            <dt><strong>format: string ∈ { CadesBes, CadesT, CadesX, CadesA, PadesBes, PadesT, SMime }</strong></dt>
            <dd>
                <p>Üretilecek imzanın biçimi. Belirtilmediğinde CadesBes kullanılır.</p>
            </dd>
            <dt><strong>digest: string ∈ { Sha1, Sha256, Sha384, Sha512 }</strong></dt>
            <dd>
                <p>Kullanılacak özet algoritması.</p>
            </dd>
            <dt><strong>attachSource: boolean</strong></dt>
            <dd>
                <p>Belge veya bilgi içeriği imza içerisine eklenmeli mi ?</p>
            </dd>
            <dt><strong>signature: string</strong></dt>
            <dd>
                <p>Eğer kaynak imzalanmış ise Base64 kodlanmış imza içeriğini gösterir.</p>
            </dd>
            <dt><strong>targetUrl: string</strong></dt>
            <dd>
                <p>İmza oluşturulduktan sonra imzanın POST metodu ile gönderileceği adres. Belirtilmediğinde gönderim
                    yapılmaz.</p>
            </dd>
            <dt><strong>pdfOptions: object</strong></dt>
            <dd>
                <p>PDF dosyaları için yerleştirilecek imza görüntüsünün özelliklerini belirler. Belirtilmediğinde imza
                    kutusu görünür olmayacaktır.</p>
            </dd>
            <dd>
                <p><strong>signatureName: string</strong></p>
            </dd>
            <dd>
                <p>PDF içerisinde görüntülenecek imza adı.</p>
            </dd>
            <dd>
                <p><strong>reason: string</strong></p>
            </dd>
            <dd>
                <p>İmza nedeni</p>
            </dd>
            <dd>
                <p><strong>location: string</strong></p>
            </dd>
            <dd>
                <p>İmzanın atıldığı yer.</p>
            </dd>
            <dd>
                <p><strong>x: integer</strong></p>
            </dd>
            <dd>
                <p>İmza kutusunun yerleştirileceği X pozisyonu.</p>
            </dd>
            <dd>
                <p><strong>y: integer</strong></p>
            </dd>
            <dd>
                <p>İmza kutusunun yerleştirileceği Y pozisyonu.</p>
            </dd>
            <dd>
                <p><strong>width: integer</strong></p>
            </dd>
            <dd>
                <p>İmza kutusunun genişliği.</p>
            </dd>
            <dd>
                <p><strong>height: integer</strong></p>
            </dd>
            <dd>
                <p>İmza kutusunun yüksekliği.</p>
            </dd>
        </dl>
        <h3 id=certificatefilter>CertificateFilter</h3>
        <p>İmzalama işlemi için kullanılacak sertifika filtrelerini içerir.</p>
        <dl>
            <dt><strong>serialNumber: string</strong></dt>
            <dd>Sertifika içerisindeki TC Kimlik No. Belirtilmediğinde tümü kullanılır.</dd>
        </dl>
        <h3 id=request>Request</h3>
        <p>İmza talebine ait bilgileri içerir.</p>
        <dl>
            <dt><strong>id: string</strong></dt>
            <dd>Yapılan istek için belirlenecek tekil numara.</dd>
            <dt><strong>resources: Resource[]</strong></dt>
            <dd>İmzalanması istenen kaynakların listesi. Birden fazla belirtilerek aynı anda birden fazla imza atılması
                mümkündür.</dd>
            <dt><strong>timestamp: object</strong></dt>
            <dd>Zaman damgası kullanılacak ise erişim bilgilerini içerir. Belirtilmediğinde kullanıcı seçeneklerinde
                belirtilen zaman damgası kullanılacaktır.</dd>
            <dt><strong>url: string</strong></dt>
            <dd>Zaman damgası sunucusunun adresi.</dd>
            <dt><strong>user: string</strong></dt>
            <dd>Zaman damgası sunucusuna gönderilecek kullanıcı adı.</dd>
            <dt><strong>password: string</strong></dt>
            <dd>Zaman damngası sunucusuna gönderilecek kullanıcının şifresi.</dd>
            <dt><strong>createdAt: string (dateTime)</strong></dt>
            <dd>İmza talebinin oluşturulduğu tarih ve saat.</dd>
            <dt><strong>responseUrl: string</strong></dt>
            <dd>İmza oluşturulduğunda cevabın geri gönderileceği adres.</dd>
            <dt><strong>certificateFilter: CertificateFilter</strong></dt>
            <dd>Kullanılması istenen sertifika filtresi.</dd>
        </dl>
        <h2 id=i̇mza-talebi-örneği>İmza Talebi Örneği</h2>
        <p>Aşağıda request objesinin bir örneğini bulabilirsiniz.</p>
        <pre><code>{
    "resources" : [
		{
			"id" : "Imza1",
			"source" : "İmzalanacak metin",
			"sourceType" : "PlainText",
			"digest" : "Sha256",
			"targetUrl" : "http://myserver/imza.php"
		},
		{
			"id" : "Imza2",
			"source" : "http://myserver/dosyadownload.php",
			"targetUrl" : "http//myserver/dosyaupload.php"
		},
		{
			"id" : "Imza3",
			"source" : "http://myserver/dosya.pdf",
			"targetUrl" : "http://myserver/imzalidosya.pdf",
			"format" : "PadesBes"
		}
	],
	"certificateFilter" : {
		 "serialNumber" : "1234567890"
	}
}
</code></pre>
        <h3 id=response>Response</h3>
        <p>İmza oluşturulduktan sonra gönderilen cevap bilgilerini içerir.</p>
        <dl>
            <dt><strong>id: string</strong></dt>
            <dd>Yapılan isteğe ait tekil numara.</dd>
            <dt><strong>resources: Resource[]</strong></dt>
            <dd>İmzalanan belge ve bilgilerin arrayi</dd>
            <dt><strong>certificate: string</strong></dt>
            <dd>İmzayı oluşturan Base64 kodlanmış sertifika bilgisi.</dd>
            <dt><strong>certificateName: string</strong></dt>
            <dd>İmzayı oluşturan sertifikanın adı.</dd>
            <dt><strong>certificateIssuer: string</strong></dt>
            <dd>İmzayı oluşturan sertifikayı çıkaran yer adı.</dd>
            <dt><strong>certificateSerialNumber: string</strong></dt>
            <dd>İmzayı oluşturan sertifikanın seri numarası. Nitelikli olmayan sertifikalar için bu alan boştur.</dd>
            <dt><strong>createdAt: string (dateTime)</strong></dt>
            <dd>İmzanın oluşturulduğu tarih ve saat.</dd>
        </dl>
        <h2 id=konsol-penceresi>Konsol Penceresi</h2>
        <p>Uygulama içerisindeki yapılan işlemlerin kaydına ve detaylı hata bilgilerine ulaşmak istiyorsanız, konsol
            penceresinin görüntülenmesini sağlayabilirsiniz.</p>
        <p>Kurulum sonrasında <strong>HKEY_CLASSES_ROOT\sign\shell\open\command</strong> kütük kaydına
            <strong>/console</strong> parametresinin eklenmesi yeterlidir. Alternatif olarak aşağıdaki bilgileri .reg
            dosyası olarak kaydedip, çift tıklayarak kaydın yapılmasını sağlayabilirsiniz.
        </p>
        <pre><code>Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT\sign\shell\open\command]
@="\"C:\\Program Files (x86)\\KolayImza\\AltiKare.KolayImza.exe\" \"%1\" /console
</code></pre>
        <h2 id=c-kullanım-örneği>C# Kullanım Örneği</h2>
        <p>Bu örnekte yukarıda anlatılan tüm işlemlerin bütününü içeren file.aspx adlı bir sayfa görmektesiniz. Bu sayfa
            aracılığı ile imzalanacak bilgileri ve imzalandıktan sonra yapılacak işlemleri kendi taleplerinize göre
            uyarlayabilirsiniz.</p>
        <pre><code>&lt;%@ Page Title="" Language="C#" %&gt;
&lt;%@ Import Namespace="System.Threading" %&gt;

&lt;script runat="server" language="c#"&gt;

    private string GetUrl(string query)
    {
        return Request.Url.GetLeftPart(UriPartial.Authority) + this.ResolveUrl("~/file.aspx?" + query);
    }

    class EventData
    {
        public EventData()
        {
            this.SignatureReceived = new ManualResetEvent(false);
        }

        public ManualResetEvent SignatureReceived { get; set; }

        public string Data { get; set; }
    }

    static Dictionary&lt;string, EventData&gt; events = new Dictionary&lt;string, EventData&gt;();

    protected override void OnLoad(EventArgs e)
    {
        var url = this.Request.Url;
        var operation = this.Request["op"] ?? "";
        var id = this.Request["id"] ?? "";

        switch (operation)
        {
            case "wait":
                {
                    EventData eventData;

                    this.Response.Write("İmza bekleniyor");
                    this.Response.Write("&lt;scri" + "pt type=\"text/javascript\"&gt;");
                    this.Response.Flush();

                    if (events.TryGetValue(id, out eventData))
                    {
                        if (eventData.SignatureReceived.WaitOne(TimeSpan.FromSeconds(3)))
                        {
                            this.Response.Write("alert('");
                            this.Response.Write(eventData.Data);
                            this.Response.Write("');");
                        }
                        else
                        {
                            // refresh page
                            this.Response.Write("window.location = '" + url + "';");
                        }
                    }
                    else
                    {
                        System.Threading.Thread.Sleep(3000);
                    }

                    this.Response.Write("&lt;/scri" + "pt&gt;");
                    this.Response.End();

                    break;
                }
            case "request":
                {
                    var request = "{" +
                    "   \"id\":\"" + id + "\"," +
                    "   \"resources\": [" +
                    "       { " +
                    "         \"source\" : \"" + GetUrl("id=" + id + "&amp;op=content") + "\", " +
                    "         \"sourceName\" : \"sample.txt\", " +
                             "\"format\": \"CadesX\"" +
                    "       }" +
                    "   ]," +
                    "   \"responseUrl\": \"" + GetUrl("id=" + id + "&amp;op=response") + "\"" +
                    "}";

                    if (!events.ContainsKey(id))
                    {
                        events[id] = new EventData();
                    }

                    this.Response.ContentType = "application/json";
                    this.Response.Write(request);
                    this.Response.End();
                    break;
                }

            case "content":
                {
                    this.Response.ContentType = "application/octet-stream";
                    this.Response.Write("hello");
                    this.Response.End();
                    //this.Response.TransmitFile(filePath);
                    break;
                }

            case "response":
                {
                    EventData data;

                    if (events.TryGetValue(id, out data))
                    {
                        using (var textReader = new System.IO.StreamReader(this.Request.InputStream))
                        {
                            data.Data = textReader.ReadToEnd();
                        }

                        data.SignatureReceived.Set();
                    }

                    this.Response.End();
                    break;
                }
        }

    }

&lt;/script&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;script src="https://code.jquery.com/jquery-git.min.js" type="text/javascript"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;a href="#" class="imzala"&gt;İmzala&lt;/a&gt;
    &lt;script type="text/javascript"&gt;
        $(document).ready(function() {
            $('a.imzala').on('click', function () {
                $('&lt;iframe&gt;&lt;/iframe&gt;').appendTo('body').attr('src', 'sign://?xs=&lt;%=GetUrl(HttpUtility.UrlEncode("id=123&amp;op=request"))%&gt;');
                window.location.href = '&lt;%=GetUrl("id=123&amp;op=wait")%&gt;';
            });
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
        <h2 id=php-kullanım-örneği>PHP Kullanım Örneği</h2>
        <p>Üstteki C# örneğine benzer şekilde aşağıda benzer işlemleri yapan bir PHP örneğini bulabilirsiniz. PHP
            ortamının doğası gereği imza cevabı hafızada tutulamadığından geçici olarak sig.json isimli bir dosyaya
            kaydedilmektedir.</p>
        <pre><code>&lt;?php
function getUrl($query)
{
    return 'http://' . $_SERVER["HTTP_HOST"] . '/api/file.php?' . $query;
}

$op = isset($_GET['op']) ? $_GET['op'] : '';
$id = isset($_GET['id']) ? $_GET['id'] : '';

switch ($op) {
case '':
    if (file_exists('./sig.json'))
      unlink('./sig.json');
    break;
case 'wait':
    ob_start();
    echo '&lt;html&gt;';
    echo '&lt;body&gt;';    
    if (file_exists('./sig.json')) {
      echo 'imza alındı';
      echo '&lt;script&gt;';
      echo "alert('" . file_get_contents('./sig.json') . "');";
      echo "window.location = '" . getUrl('') ."';";
      echo '&lt;/script&gt;';
    } else {
      echo 'imza bekleniyor';
      sleep(3);
      flush();
      echo '&lt;script&gt;';      
      echo "window.location = 'http://$_SERVER[HTTP_HOST]$_SERVER[REQUEST_URI]';";
      echo '&lt;/script&gt;';
    }    
    echo '&lt;/body&gt;&lt;/html&gt;';
    return;
    break;
case 'request':
    header('Content-type: application/json');
    echo '{';
    echo '  "id":' . $id . ',';
    echo '  "resources": [';
    echo '    {';
    echo '    "source" : "' . getUrl("id=" . $id . "&amp;op=content") . '",';
    echo '    "sourceName" : "sample.txt"';
    echo '    }';
    echo '  ],';
    echo '  "responseUrl": "' . getUrl("id=" . $id . "&amp;op=response") . '"';
    echo '}';
    return;
    break;
case 'content':
    header('Content-type: application/octet-stream');
    echo "hello";
    return;
    break;
case 'response':
    $data = file_get_contents('php://input');
    json_decode($data); // ensure json
    file_put_contents('./sig.json', $data);
    return;
    break;
}

?&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;script src="https://code.jquery.com/jquery-git.min.js" type="text/javascript"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;a href="#" class="imzala"&gt;İmzala&lt;/a&gt;
    &lt;script type="text/javascript"&gt;
        $(document).ready(function() {
            $('a.imzala').on('click', function () {
                $('&lt;iframe&gt;&lt;/iframe&gt;').appendTo('body').attr('src', 'sign://?xs=&lt;?=getUrl(urlencode("id=123&amp;op=request"))?&gt;');
                window.location.href = '&lt;?=getUrl("id=123&amp;op=wait")?&gt;';
            });
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
    </div>